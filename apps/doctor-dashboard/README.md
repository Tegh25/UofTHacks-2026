You are generating the FRONTEND for a clinician-facing triage dashboard.

This dashboard connects to an EXISTING backend API and MongoDB datastore.
Backend routes already exist and should be consumed from the frontend.

IMPORTANT CONSTRAINTS:
- This is a READ-ONLY dashboard (except for demo utilities)
- Do NOT implement authentication logic
- Do NOT implement AI logic or agent logic
- Do NOT invent API endpoints beyond those specified
- Do NOT invent credentials, tokens, or secrets
- Assume backend responses follow a shared patient intake schema

TECH STACK:
- React (functional components)
- TypeScript
- Tailwind CSS (or simple CSS)
- Fetch or Axios for HTTP requests

---

## APPLICATION PURPOSE

This web app is used by clinicians (nurses/doctors) to:
- View triaged patients
- See urgency classifications
- Inspect multi-agent outputs
- Understand how patient state evolves over time

This dashboard is a KEY DEMO SURFACE for showing:
- Multi-agent orchestration
- State hand-offs
- Safety guardrails

---

## BACKEND API CONTRACT (ASSUME THESE EXIST)

Use these endpoints ONLY:

- GET /patients
  Returns: Array of patient records

- GET /patients/:id
  Returns: Full patient record with agent outputs

- POST /clear-demo-data
  Clears all patient records (demo utility)

Polling:
- Dashboard should poll GET /patients every 3–5 seconds

---

## GLOBAL LAYOUT REQUIREMENTS

- Top navigation bar with:
  - App title: "ER Triage Dashboard"
  - Badge: "Authorized Clinician — Demo Mode"
  - Buttons:
    - Refresh
    - Clear Demo Data

- Two main views:
  1. Patient List View
  2. Patient Detail View

Use simple client-side routing or conditional rendering.

---

## VIEW 1 — Patient List View (DEFAULT)

Purpose:
- Show all submitted patients
- Prioritize by urgency and time

### Data Handling
- Fetch patients from GET /patients
- Sort:
  1. Urgency (Critical → Low)
  2. Submission time (oldest first)

### Patient List Item UI
Each patient item MUST show:
- Patient name (or "Anonymous Patient")
- Age (if available)
- Urgency badge (color-coded + text)
- Primary symptoms (1–2 short phrases)
- Time since submission (e.g., "3 min ago")

### Urgency Color Coding
- CRITICAL → red
- HIGH → orange
- MEDIUM → yellow
- LOW → neutral/green

Accessibility:
- Never rely on color alone
- Always show urgency text label

### Interaction
- Clicking a patient item opens Patient Detail View
- List continues polling in background

---

## VIEW 2 — Patient Detail View

Purpose:
- Show full triage context
- Demonstrate agent orchestration and state evolution

### Layout
- Back button: “← Back to patient list”
- Clear section headings
- Vertical scrolling allowed

---

### SECTION A — Patient Overview
Show:
- Name
- Age
- Intake category
- Submission timestamp

---

### SECTION B — Agent Execution Timeline (VERY IMPORTANT)

Purpose:
- Explicitly show multi-agent orchestration

UI Requirements:
- Vertical list or timeline
- Each agent shown with:
  - Agent name
  - Status: Completed / Pending
  - Timestamp (if completed)

Agents to display:
- Intake Structuring Agent
- Urgency Classification Agent
- Clinician Summary Agent
- (Optional) Safety / Guardrail Step

This section must make state hand-offs visually obvious.

---

### SECTION C — Structured Intake Output
Display:
- Primary symptoms
- Symptom duration
- Red flags (if any)
- Structured summary

Label clearly:
"Generated by Intake Structuring Agent"

---

### SECTION D — Urgency Assessment

Display:
- Final urgency level (after guardrails)
- Confidence score (if available)
- Rationale bullet points
- Applied guardrails (if any)

Label clearly:
"Urgency proposed by AI, constrained by safety rules"

---

### SECTION E — Clinician Summary

Display:
- Clinician report paragraph
- Suggested next steps (review-only)
- Flags (e.g., low confidence, missing data)

Label clearly:
"For clinician review — not diagnostic"

---

### SECTION F — Vitals (If Available)

Display:
- Heart rate
- Respiration rate
- Confidence indicator

If unavailable:
- Show “Vitals not available”

---

## AUTO-REFRESH & REAL-TIME BEHAVIOR

- Poll patient list every 3–5 seconds
- Patient detail view should re-fetch data periodically
- Changes in agent state should appear naturally as data updates

Do NOT use WebSockets.

---

## DEMO UTILITIES

### Clear Demo Data
- Button calls POST /clear-demo-data
- Confirmation dialog required

### Refresh
- Manual refresh button triggers immediate re-fetch

---

## ERROR & LOADING STATES

- Loading indicators while fetching data
- Graceful handling if agent outputs are missing
- Never crash if partial data exists

---

## ACCESSIBILITY & USABILITY

- High contrast
- Clear typography
- No flashing animations
- Keyboard accessible
- Clear medical disclaimers

---

## OUTPUT EXPECTATIONS

- Clean, readable React components
- Clear separation of concerns
- Generous comments explaining:
  - what data is shown
  - which agent produced it
  - how it supports clinician review

This dashboard must clearly demonstrate:
- multi-agent orchestration
- evolving patient state
- responsible AI usage
